
<!DOCTYPE html>
<html lang="en">
	<head> 
		<meta charset="utf-8">
		<LINK REL="SHORTCUT ICON"" href= "./favicon.ico" >
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: #FFF;
				color: #0;
				margin: 0px;
			
			}
			a:link { color: blue; }  
			a:hover { background: yellow; } 
		        

			#info {
				color: #fff;
				position: absolute;
				top: 10px;
				width: 100%;
				text-align: center;
				z-index: 100;
				display:block;
			}
	
			#list{
  
				height: 75em;
				padding: 1em;
				margin: auto;
				border: 0.062em solid #999;
				background-color: #fff;
				overflow: auto;
				direction: rtl;
				text-align: left;
			}

		</style>
</head>

<body>
 
		<div id="info">		<a href="" target="_blank" rel="noopener"></a>		</div>
   
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	   <script type='text/javascript' src='./modellist.js'  charset="utf-8" ></script>
	
    
<script>
  
var  xref
  
function M(nb) {

 wr=  "https://raw.githubusercontent.com/"+ xref[nb].w +  xref[nb].n + ".wrl"
 
 md=  "https://raw.githubusercontent.com/" + xref[nb].p +  xref[nb].n + ".kicad_mod"
 
       vrvh='<iframe src="wrmlviewver.html?path='+ wr + '" style="width:500px;height:400px;border:1px solid #000000;z-index:1; " />';
       $("#wrml").html(vrvh);
           
        vrvh='<iframe src="kicadreader.html?path='+ md  + '" style="width:500px;height:400px;border:1px solid #000000;z-index:1; " />';
        $("#kicad").html(vrvh);
 
}

$(document).ready(function(){


UseURL3D=""
UseURLpretty=""


lst=""
xref=getmodel();

var curpath="lkjljmj"
var curpathwrl="dhgdfghdhgfd"
var curpathstep="dhgdfghdhgfd"
var curpathstp="dhgdfghdhgfd"
var curpathwings="dhgdfghdhgfd"

for (ind =0 ; ind < xref.length; ind++)
{

if (curpath != xref[ind].p  &&  xref[ind].p!="" )  
	curpath= xref[ind].p

if (curpathwrl != xref[ind].w  &&  xref[ind].w!="" )  
	curpathwrl= xref[ind].w



	
	xref[ind].p = curpath
	xref[ind].w = curpathwrl
	
 
	/*	   var onerow={p:table2[a].path, n:table2[a].shortname }
		   if (table2[a].haswrl)
			   onerow.w=table2[a].haswrl
		   
		   if (table2[a].hasstep)
			   onerow.S=table2[a].hasstep
		   
		   if (table2[a].hasstp)
			   onerow.s=table2[a].hasstp
		   
		   if (table2[a].haswings)
			   onerow.g=table2[a].haswings
			   */
	   
		   


//for (ind =0 ; ind < xref.length; ind+=2)
//{
//if  (xref[ind] == "UseURL3D" )
//	{UseURL3D=xref[ind+1]
//	lst=lst+ "<br><b>UseURL3D AT :" + UseURL3D + "</b><br> ";
//	continue;
//	}
	
//if  (xref[ind] == "UseURLpretty" )
//	{UseURLpretty=xref[ind+1]
//	lst=lst+ "<br><b>UseURLpretty AT :" + UseURLpretty + "</b><br> ";
//	continue;
//	}

wr=""
if  (xref[ind].w )
wr= "3D"
else
continue
 
if  (xref[ind].s )
wr= wr+ " Stp"

if  (xref[ind].S )
wr= wr+ " Step"

if  (xref[ind].g )
wr= wr+ " Wings"

 wr=xref[ind].p.substring(0, xref[ind].p.indexOf("/"))+ ":"  +wr + ":"  
 
 md=  xref[ind].p +  xref[ind].n + ".kicad_mod"
 

 //<a href="accueil.php"  onClick="changecolor();">yop</a>
 
ulst ="<tr><td><a href=\"#Foo\" ";
ulst+="onclick=\"M('";
ulst+=  ind +   "');\">" ;
ulst+=  xref[ind].n   + "</a></td>" ;
//	console.log(lst);
ulst+="<td>&nbsp;&nbsp;&nbsp;&nbsp;"+  wr   + "</td><tr>" ;

lst=lst+ulst


//if (ind>1000) 
//break;

}
$("#list").html(lst);


M(476)  // cp par defaut

// fin ready
}); 
    
	
		</script>


  <table align="left" >
      <tr>
	  
           <td>       <table  <table align="top" >
						 <tr><div id="wrml"></div>  </tr>
						 <tr><div id="kicad"></div> </tr>
						 </table>
		   </td>
		    <td>
						<div id="list"></div>			
	       </td>
		
	 </tr>
	
           </table>
	
  
 
	</body>
</html>
